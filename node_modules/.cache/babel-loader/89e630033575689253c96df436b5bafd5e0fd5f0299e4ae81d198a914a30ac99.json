{"ast":null,"code":"import axios from \"axios\";\n\n// Certifique-se de que esta URL está correta para seu backend\n// É uma boa prática ter isso em uma variável de ambiente ou um arquivo de configuração separado\nconst API_URL = \"http://localhost:9087\";\nconst login = async ({\n  email,\n  senha\n}) => {\n  try {\n    return await axios.post(`${API_URL}/login`, {\n      email,\n      senha\n    }, {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      timeout: 5000 // 5 segundos\n    });\n  } catch (error) {\n    console.error(\"Erro no login:\", error);\n    throw error; // Propagar o erro para o componente que chamou\n  }\n};\nconst register = async usuario => {\n  try {\n    return await axios.post(`${API_URL}/usuario/cadastrar`, usuario);\n  } catch (error) {\n    console.error(\"Erro no registro:\", error);\n    throw error;\n  }\n};\nconst getUserById = async id => {\n  try {\n    return await axios.get(`${API_URL}/usuario/buscar/${id}`);\n  } catch (error) {\n    console.error(\"Erro ao buscar usuário por ID:\", error);\n    throw error;\n  }\n};\nconst alterarSenha = async (id, request) => {\n  try {\n    return await axios.put(`${API_URL}/usuario/alterar/senha?id=${id}`, request);\n  } catch (error) {\n    console.error(\"Erro ao alterar senha:\", error);\n    throw error;\n  }\n};\nconst delet = async id => {\n  try {\n    // Note: Esta função parece ser para `usuario_gasto/delete`, verificar se é o endpoint correto\n    return await axios.delete(`${API_URL}/usuario_gasto/delete?id=${id}`);\n  } catch (error) {\n    console.error(\"Erro ao deletar usuário_gasto:\", error);\n    throw error;\n  }\n};\nconst alterarDadosUsuario = async (id, dados) => {\n  try {\n    return await axios.put(`${API_URL}/usuario/alterar?id=${id}`, dados);\n  } catch (error) {\n    console.error(\"Erro ao alterar dados do usuário:\", error);\n    throw error;\n  }\n};\nconst alterarEmail = async (id, email, senha) => {\n  try {\n    return await axios.put(`${API_URL}/usuario/alterar/email?id=${id}`, {\n      email,\n      senha\n    });\n  } catch (error) {\n    console.error(\"Erro ao alterar email:\", error);\n    throw error;\n  }\n};\nconst buscarLancamentosPorUsuario = async idUsuario => {\n  try {\n    return await axios.get(`${API_URL}/gasto/buscar/categoria`, {\n      params: {\n        idUsuario\n      }\n    });\n  } catch (error) {\n    console.error(\"Erro ao buscar lançamentos por usuário:\", error);\n    throw error;\n  }\n};\nconst alterarGasto = async (id, gasto) => {\n  try {\n    return await axios.put(`${API_URL}/gasto/alterar`, gasto, {\n      params: {\n        id\n      }\n    });\n  } catch (error) {\n    console.error(\"Erro ao alterar gasto:\", error);\n    throw error;\n  }\n};\nconst cadastrarGasto = async (idUsuario, dados) => {\n  try {\n    return await axios.post(`${API_URL}/gasto/cadastrar`, dados, {\n      params: {\n        idUsuario\n      }\n    });\n  } catch (error) {\n    console.error(\"Erro ao cadastrar gasto:\", error);\n    throw error;\n  }\n};\nconst deletarGasto = async id => {\n  try {\n    return await axios.delete(`${API_URL}/gasto/deletar`, {\n      params: {\n        id\n      }\n    });\n  } catch (error) {\n    console.error(\"Erro ao deletar gasto:\", error);\n    throw error;\n  }\n};\n\n/**\r\n * Gera um novo plano financeiro para o usuário.\r\n * O valor para poupar é opcional e enviado como um parâmetro de query.\r\n * @param {number} idUsuario O ID do usuário.\r\n * @param {number} [valorPraPoupar] O valor opcional que o usuário deseja poupar por mês.\r\n */\nconst gerarPlano = async (idUsuario, valorPraPoupar = null) => {\n  try {\n    // Constrói a URL base com idUsuario como query parameter.\n    let url = `${API_URL}/plano?idUsuario=${idUsuario}`;\n\n    // Se valorPraPoupar for fornecido (não nulo/indefinido) e for um número válido,\n    // adicione-o como um parâmetro de query adicional na URL.\n    // parseFloat garante que o valor é um número, e encodeURIComponent o codifica para a URL.\n    if (valorPraPoupar !== null && valorPraPoupar !== undefined && !isNaN(parseFloat(valorPraPoupar))) {\n      url += `&valorPraPoupar=${encodeURIComponent(parseFloat(valorPraPoupar))}`;\n    }\n\n    // Realiza a requisição POST para a URL construída.\n    // O segundo argumento de axios.post é o corpo da requisição (body),\n    // que é null aqui, pois os parâmetros são enviados na URL (query string),\n    // conforme o @RequestParam do seu backend.\n    const response = await axios.post(url, null);\n    return response;\n  } catch (error) {\n    console.error(\"Erro ao gerar plano:\", error);\n    throw error; // Propagar o erro para o componente para tratamento de UI\n  }\n};\nconst buscarPlanosPorUsuario = async idUsuario => {\n  try {\n    return await axios.get(`${API_URL}/plano/usuario`, {\n      params: {\n        idUsuario\n      }\n    });\n  } catch (error) {\n    console.error(\"Erro ao buscar planos por usuário:\", error);\n    throw error;\n  }\n};\nconst authService = {\n  login,\n  register,\n  getUserById,\n  alterarSenha,\n  delet,\n  alterarDadosUsuario,\n  alterarEmail,\n  buscarLancamentosPorUsuario,\n  alterarGasto,\n  cadastrarGasto,\n  deletarGasto,\n  gerarPlano,\n  buscarPlanosPorUsuario\n};\nexport default authService;","map":{"version":3,"names":["axios","API_URL","login","email","senha","post","headers","timeout","error","console","register","usuario","getUserById","id","get","alterarSenha","request","put","delet","delete","alterarDadosUsuario","dados","alterarEmail","buscarLancamentosPorUsuario","idUsuario","params","alterarGasto","gasto","cadastrarGasto","deletarGasto","gerarPlano","valorPraPoupar","url","undefined","isNaN","parseFloat","encodeURIComponent","response","buscarPlanosPorUsuario","authService"],"sources":["C:/Users/jpls2/TCC/Front/myFinance/src/services/authService.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\n// Certifique-se de que esta URL está correta para seu backend\r\n// É uma boa prática ter isso em uma variável de ambiente ou um arquivo de configuração separado\r\nconst API_URL = \"http://localhost:9087\"; \r\n\r\nconst login = async ({ email, senha }) => {\r\n  try {\r\n    return await axios.post(`${API_URL}/login`, { email, senha }, {\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      timeout: 5000 // 5 segundos\r\n    });\r\n  } catch (error) {\r\n    console.error(\"Erro no login:\", error);\r\n    throw error; // Propagar o erro para o componente que chamou\r\n  }\r\n};\r\n\r\nconst register = async (usuario) => {\r\n  try {\r\n    return await axios.post(`${API_URL}/usuario/cadastrar`, usuario);\r\n  } catch (error) {\r\n    console.error(\"Erro no registro:\", error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst getUserById = async (id) => {\r\n  try {\r\n    return await axios.get(`${API_URL}/usuario/buscar/${id}`);\r\n  } catch (error) {\r\n    console.error(\"Erro ao buscar usuário por ID:\", error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst alterarSenha = async (id, request) => {\r\n  try {\r\n    return await axios.put(`${API_URL}/usuario/alterar/senha?id=${id}`, request);\r\n  } catch (error) {\r\n    console.error(\"Erro ao alterar senha:\", error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst delet = async (id) => {\r\n  try {\r\n    // Note: Esta função parece ser para `usuario_gasto/delete`, verificar se é o endpoint correto\r\n    return await axios.delete(`${API_URL}/usuario_gasto/delete?id=${id}`);\r\n  } catch (error) {\r\n    console.error(\"Erro ao deletar usuário_gasto:\", error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst alterarDadosUsuario = async (id, dados) => {\r\n  try {\r\n    return await axios.put(`${API_URL}/usuario/alterar?id=${id}`, dados);\r\n  } catch (error) {\r\n    console.error(\"Erro ao alterar dados do usuário:\", error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst alterarEmail = async (id, email, senha) => {\r\n  try {\r\n    return await axios.put(`${API_URL}/usuario/alterar/email?id=${id}`, { email, senha });\r\n  } catch (error) {\r\n    console.error(\"Erro ao alterar email:\", error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst buscarLancamentosPorUsuario = async (idUsuario) => {\r\n  try {\r\n    return await axios.get(`${API_URL}/gasto/buscar/categoria`, {\r\n      params: { idUsuario }\r\n    });\r\n  } catch (error) {\r\n    console.error(\"Erro ao buscar lançamentos por usuário:\", error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst alterarGasto = async (id, gasto) => {\r\n  try {\r\n    return await axios.put(`${API_URL}/gasto/alterar`, gasto, {\r\n      params: { id }\r\n    });\r\n  } catch (error) {\r\n    console.error(\"Erro ao alterar gasto:\", error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst cadastrarGasto = async (idUsuario, dados) => {\r\n  try {\r\n    return await axios.post(`${API_URL}/gasto/cadastrar`, dados, {\r\n      params: { idUsuario }\r\n    });\r\n  } catch (error) {\r\n    console.error(\"Erro ao cadastrar gasto:\", error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst deletarGasto = async (id) => {\r\n  try {\r\n    return await axios.delete(`${API_URL}/gasto/deletar`, {\r\n      params: { id }\r\n    });\r\n  } catch (error) {\r\n    console.error(\"Erro ao deletar gasto:\", error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n/**\r\n * Gera um novo plano financeiro para o usuário.\r\n * O valor para poupar é opcional e enviado como um parâmetro de query.\r\n * @param {number} idUsuario O ID do usuário.\r\n * @param {number} [valorPraPoupar] O valor opcional que o usuário deseja poupar por mês.\r\n */\r\nconst gerarPlano = async (idUsuario, valorPraPoupar = null) => {\r\n  try {\r\n    // Constrói a URL base com idUsuario como query parameter.\r\n    let url = `${API_URL}/plano?idUsuario=${idUsuario}`;\r\n\r\n    // Se valorPraPoupar for fornecido (não nulo/indefinido) e for um número válido,\r\n    // adicione-o como um parâmetro de query adicional na URL.\r\n    // parseFloat garante que o valor é um número, e encodeURIComponent o codifica para a URL.\r\n    if (valorPraPoupar !== null && valorPraPoupar !== undefined && !isNaN(parseFloat(valorPraPoupar))) {\r\n      url += `&valorPraPoupar=${encodeURIComponent(parseFloat(valorPraPoupar))}`;\r\n    }\r\n\r\n    // Realiza a requisição POST para a URL construída.\r\n    // O segundo argumento de axios.post é o corpo da requisição (body),\r\n    // que é null aqui, pois os parâmetros são enviados na URL (query string),\r\n    // conforme o @RequestParam do seu backend.\r\n    const response = await axios.post(url, null); \r\n    return response;\r\n  } catch (error) {\r\n    console.error(\"Erro ao gerar plano:\", error);\r\n    throw error; // Propagar o erro para o componente para tratamento de UI\r\n  }\r\n};\r\n\r\nconst buscarPlanosPorUsuario = async (idUsuario) => {\r\n  try {\r\n    return await axios.get(`${API_URL}/plano/usuario`, {\r\n      params: { idUsuario }\r\n    });\r\n  } catch (error) {\r\n    console.error(\"Erro ao buscar planos por usuário:\", error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst authService = {\r\n  login,\r\n  register,\r\n  getUserById,\r\n  alterarSenha,\r\n  delet,\r\n  alterarDadosUsuario,\r\n  alterarEmail,\r\n  buscarLancamentosPorUsuario,\r\n  alterarGasto,\r\n  cadastrarGasto,\r\n  deletarGasto,\r\n  gerarPlano,\r\n  buscarPlanosPorUsuario\r\n};\r\n\r\nexport default authService;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}