{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jpls2\\\\TCC\\\\Front\\\\myFinance\\\\src\\\\components\\\\Modal.js\",\n  _s = $RefreshSig$();\n// src/components/Modal.js\nimport React, { useState } from \"react\";\nimport \"../assets/Modal.css\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Modal = ({\n  isOpen,\n  onClose,\n  title,\n  tipo\n}) => {\n  _s();\n  const [input1, setInput1] = useState(\"\");\n  const [input2, setInput2] = useState(\"\");\n  const userId = localStorage.getItem(\"userId\");\n  const handleSubmit = async () => {\n    let body = {};\n    let endpoint = \"\";\n    switch (tipo) {\n      case \"email\":\n        endpoint = \"/usuario/email\";\n        body = {\n          id: userId,\n          email: input1,\n          senha: input2\n        };\n        break;\n      case \"senha\":\n        endpoint = \"/usuario/senha\";\n        body = {\n          id: userId,\n          email: input1,\n          senhaAntiga: input2,\n          novaSenha: input2\n        };\n        break;\n      case \"rendimento\":\n        endpoint = \"/usuario/rendimento\";\n        body = {\n          id: userId,\n          rendimento: input1\n        };\n        break;\n      case \"nome\":\n        endpoint = \"/usuario/nome\";\n        body = {\n          id: userId,\n          nome: input1\n        };\n        break;\n      default:\n        return;\n    }\n    try {\n      const response = await fetch(`http://localhost:9087${endpoint}`, {\n        method: \"PUT\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(body)\n      });\n      if (response.ok) {\n        alert(\"Alteração realizada com sucesso!\");\n        onClose();\n        window.location.reload();\n      } else {\n        alert(\"Erro ao atualizar.\");\n      }\n    } catch (error) {\n      console.error(\"Erro:\", error);\n    }\n  };\n  if (!isOpen) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"modal-overlay\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-box\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), tipo === \"email\" && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"Novo e-mail\",\n          value: input1,\n          onChange: e => setInput1(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"Senha atual\",\n          type: \"password\",\n          value: input2,\n          onChange: e => setInput2(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true), tipo === \"senha\" && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"E-mail\",\n          value: input1,\n          onChange: e => setInput1(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"Nova senha\",\n          type: \"password\",\n          value: input2,\n          onChange: e => setInput2(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true), tipo === \"rendimento\" && /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"Novo rendimento\",\n        value: input1,\n        onChange: e => setInput1(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 11\n      }, this), tipo === \"nome\" && /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"Novo nome\",\n        value: input1,\n        onChange: e => setInput1(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleSubmit,\n        className: \"modal-save\",\n        children: \"Salvar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onClose,\n        className: \"modal-close\",\n        children: \"Fechar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 5\n  }, this);\n};\n_s(Modal, \"GpIrrjPjBLg5qS1Vei9TJIZtPJo=\");\n_c = Modal;\nexport default Modal;\nvar _c;\n$RefreshReg$(_c, \"Modal\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","Fragment","_Fragment","Modal","isOpen","onClose","title","tipo","_s","input1","setInput1","input2","setInput2","userId","localStorage","getItem","handleSubmit","body","endpoint","id","email","senha","senhaAntiga","novaSenha","rendimento","nome","response","fetch","method","headers","JSON","stringify","ok","alert","window","location","reload","error","console","className","children","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","value","onChange","e","target","type","onClick","_c","$RefreshReg$"],"sources":["C:/Users/jpls2/TCC/Front/myFinance/src/components/Modal.js"],"sourcesContent":["// src/components/Modal.js\r\nimport React, { useState } from \"react\";\r\nimport \"../assets/Modal.css\";\r\n\r\nconst Modal = ({ isOpen, onClose, title, tipo }) => {\r\n  const [input1, setInput1] = useState(\"\");\r\n  const [input2, setInput2] = useState(\"\");\r\n\r\n  const userId = localStorage.getItem(\"userId\");\r\n\r\n  const handleSubmit = async () => {\r\n    let body = {};\r\n    let endpoint = \"\";\r\n\r\n    switch (tipo) {\r\n      case \"email\":\r\n        endpoint = \"/usuario/email\";\r\n        body = {\r\n          id: userId,\r\n          email: input1,\r\n          senha: input2,\r\n        };\r\n        break;\r\n      case \"senha\":\r\n        endpoint = \"/usuario/senha\";\r\n        body = {\r\n          id: userId,\r\n          email: input1,\r\n          senhaAntiga: input2,\r\n          novaSenha: input2,\r\n        };\r\n        break;\r\n      case \"rendimento\":\r\n        endpoint = \"/usuario/rendimento\";\r\n        body = {\r\n          id: userId,\r\n          rendimento: input1,\r\n        };\r\n        break;\r\n      case \"nome\":\r\n        endpoint = \"/usuario/nome\";\r\n        body = {\r\n          id: userId,\r\n          nome: input1,\r\n        };\r\n        break;\r\n      default:\r\n        return;\r\n    }\r\n\r\n    try {\r\n      const response = await fetch(`http://localhost:9087${endpoint}`, {\r\n        method: \"PUT\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify(body),\r\n      });\r\n\r\n      if (response.ok) {\r\n        alert(\"Alteração realizada com sucesso!\");\r\n        onClose();\r\n        window.location.reload();\r\n      } else {\r\n        alert(\"Erro ao atualizar.\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Erro:\", error);\r\n    }\r\n  };\r\n\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <div className=\"modal-overlay\">\r\n      <div className=\"modal-box\">\r\n        <h3>{title}</h3>\r\n\r\n        {tipo === \"email\" && (\r\n          <>\r\n            <input placeholder=\"Novo e-mail\" value={input1} onChange={(e) => setInput1(e.target.value)} />\r\n            <input placeholder=\"Senha atual\" type=\"password\" value={input2} onChange={(e) => setInput2(e.target.value)} />\r\n          </>\r\n        )}\r\n\r\n        {tipo === \"senha\" && (\r\n          <>\r\n            <input placeholder=\"E-mail\" value={input1} onChange={(e) => setInput1(e.target.value)} />\r\n            <input placeholder=\"Nova senha\" type=\"password\" value={input2} onChange={(e) => setInput2(e.target.value)} />\r\n          </>\r\n        )}\r\n\r\n        {tipo === \"rendimento\" && (\r\n          <input placeholder=\"Novo rendimento\" value={input1} onChange={(e) => setInput1(e.target.value)} />\r\n        )}\r\n\r\n        {tipo === \"nome\" && (\r\n          <input placeholder=\"Novo nome\" value={input1} onChange={(e) => setInput1(e.target.value)} />\r\n        )}\r\n\r\n        <button onClick={handleSubmit} className=\"modal-save\">Salvar</button>\r\n        <button onClick={onClose} className=\"modal-close\">Fechar</button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}